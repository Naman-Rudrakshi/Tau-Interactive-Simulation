<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Grid Simulation</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="menuLeft" id="hideL">
        <label for="xSize">X Size:</label>
        <input type="number" id="xSize" value="2"><br>
        <label for="ySize">Y Size:</label>
        <input type="number" id="ySize" value="2"><br>
        <label for="zSize">Z Size:</label>
        <input type="number" id="zSize" value="2"><br>

        <div class = "gap"></div>
        <label for="base1">Base Monomer:</label>
        <input type="number" id="base1" value="0"><br>
        <label for="base2">Base Dimer:</label>
        <input type="number" id="base2" value="0"><br>
        <label for="base3">Base SP-oligomer:</label>
        <input type="number" id="base3" value="0"><br>
        <label for="base4">Base Long Oligomer:</label>
        <input type="number" id="base4" value="0"><br>
        <label for="base5">Base Tangle/Cluster:</label>
        <input type="number" id="base5" value="0"><br>

        <div class = "gap"></div>
        <label for="baseConn">Base Connection:</label>
        <input type="number" id="baseConnection" value="1"><br>

       
        <label>Spread Percent:</label>
        <input type="number" id="spreadPercent" value="0.9"><br>

    
        <label>Gamma:</label>
        <input type="number" id="gamma" value="4"><br>

       
        <label>C Constant:</label>
        <input type="number" id="c" value="0.05"><br>

       
        <label>Lambda:</label>
        <input type="number" id="lambda" value="10"><br>

        <label>Time Constant:</label>
        <input type="number" id="timeConstant" value="1"><br>
        
        <button id="plotButton">Plot</button>        
    </div>

    <div class="menuLeftBot">
        <label>Tau Type to Display:</label>
        <select id="mySelect" onchange="handleSelectionChange()">
            <option value="0">Monomer</option>
            <option value="1">Dimer</option>
            <option value="2">SP Oligomer</option>
            <option value="3">Long Oligomer</option>
            <option value="4">Tangle/Cluster</option>
        </select>
    </div>

    <div class="simulation-container">
        <div class="simulation">
            <canvas id="simulationCanvas"></canvas>
        </div>
    </div>

    <div class="menuRight" id="hideR">
        <label>Packet 1 XYZ:</label>

        <div class="coordinates">
            <input class = "coord" type="number" id="x1" value="1"><br>
            <input class = "coord" type="number" id="y1" value="1"><br>
            <input class = "coord" type="number" id="z1" value="1"><br>
        </div>

        <label>Packet 1 Initial Tau 1-5:</label>
        <input type="number" class = "tauMod" id="m11" value="0"><br>
        <input type="number" class = "tauMod" id="m12" value="0"><br>
        <input type="number" class = "tauMod" id="m13" value="0"><br>
        <input type="number" class = "tauMod" id="m14" value="0"><br>
        <input type="number" class = "tauMod" id="m15" value="0"><br>

        <div class = "gap"></div>

        <label>Packet 2 XYZ:</label>

        <div class="coordinates">
            <input class = "coord" type="number" id="x2" value="1"><br>
            <input class = "coord" type="number" id="y2" value="1"><br>
            <input class = "coord" type="number" id="z2" value="1"><br>
        </div>

        <label>Packet 2 Initial Tau 1-5:</label>
        <input type="number" class = "tauMod" id="m21" value="0"><br>
        <input type="number" class = "tauMod" id="m22" value="0"><br>
        <input type="number" class = "tauMod" id="m23" value="0"><br>
        <input type="number" class = "tauMod" id="m24" value="0"><br>
        <input type="number" class = "tauMod" id="m25" value="0"><br>
     

        <div class = "gap"></div>
        <button id="setButton">Set</button>    

    </div>

    <div class="menuRightBot">
        <label id="step">Timestep: 0</label>
        <button id="simulateButton">Simulate</button>
        <button id="pauseButton">Pause</button> 
        <button id="resumeButton">Resume</button> 
        <button id="endButton">End</button> 
        <button id="resetButton">Reset</button> 
        <!-- Button to open the graph modal -->
        <button class = "unclickable" id="openGraphButton">Open Graph</button>
    </div>



    

    <!-- Container for the graph modal -->
    <div id="graphContainer" width="1000" height="800" class="graph-container">
        <!-- Canvas element for the chart -->
        <canvas id="dataChart" width="600" height="550"></canvas>
        <!-- Button to close the graph modal -->


        <div id="buttonsSide">
            <button id="closeGraphButton">Close</button>


            <!-- Checkboxes to select which data arrays to display -->
            <div class="checkbox-container">
                <label><input type="checkbox" class="dataCheckbox" data-index="0"> Tau 1</label>
                <label><input type="checkbox" class="dataCheckbox" data-index="1"> Tau 2</label>
                <label><input type="checkbox" class="dataCheckbox" data-index="2"> Tau 3</label>
                <label><input type="checkbox" class="dataCheckbox" data-index="3"> Tau 4</label>
                <label><input type="checkbox" class="dataCheckbox" data-index="4"> Tau 5</label>
            </div>
        </div>
            
    </div>



    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/controls/OrbitControls.js"></script>
    <script src="data.js"></script>
    <script src="menu.js"></script>
    <script src="simulation.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="graph.js"></script>
</body>
</html>
